{"version":3,"sources":["components/EditTodo.js","components/InputTodos.js","components/ListTodos.js","App.js","index.js"],"names":["EditTodo","todo","useState","item","setItem","updateItem","e","a","preventDefault","body","console","log","fetch","id","method","headers","JSON","stringify","window","location","error","message","type","className","data-toggle","data-target","onClick","data-dismiss","value","onChange","target","InputTodo","todos","onSubmitForm","length","onSubmit","placeholder","ListTodos","endpoint","setTodos","filter","res","json","data","useEffect","getTodos","map","deleteTodo","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.3c83c215.chunk.js","sourcesContent":["import React, { Fragment, useState } from \"react\";\n\nconst EditTodo = ({ todo }) => {\n\n    const endpoint = \"https://b35jbn.deta.dev/todos\";\n\n    const [item, setItem] = useState(todo.item);\n\n    const updateItem = async (e) => {\n        e.preventDefault();\n        try {\n            const body = { item };\n            console.log(body);\n\n            const response = await fetch(`${endpoint}/${todo.id}`, {\n                method: \"PUT\",\n                headers: { \"Content-Type\": \"application/json\" },\n                body: JSON.stringify(body)\n              });\n\n        \n              window.location = \"/\";\n        } catch (err) {\n            console.error(err.message);\n        }\n    };\n\n    return (\n        <Fragment>\n            <button type=\"button\" className=\"btn btn-warning\" data-toggle=\"modal\" data-target={`#id${todo.id}`}>\n            Edit\n            </button>\n\n            <div className=\"modal\" id={`id${todo.id}`} onClick={() => setItem(todo.item)}>\n  <div className=\"modal-dialog\">\n    <div className=\"modal-content\">\n\n      <div className=\"modal-header\">\n        <h4 className=\"modal-title\">Edit Todo</h4>\n        <button type=\"button\" className=\"close\" data-dismiss=\"modal\" onClick={() => setItem(todo.item)}>&times;</button>\n      </div>\n\n      <div className=\"modal-body\">\n        <input type=\"text\" className=\"form-control\" value={item} onChange={e => setItem(e.target.value)} />\n      </div>\n\n      <div className=\"modal-footer\">\n        <button type=\"button\" className=\"btn btn-warning\" data-dismiss=\"modal\" onClick={e => updateItem(e)}>Edit</button>\n        <button type=\"button\" className=\"btn btn-danger\" data-dismiss=\"modal\" onClick={() => setItem(todo.item)}>Close</button>\n\n      </div>\n\n    </div>\n  </div>\n</div>\n        </Fragment>\n      );\n}\n\nexport default EditTodo;","import React, { Fragment, useState } from \"react\";\n\nconst InputTodo = ({ todos }) => {\n    const endpoint = \"https://b35jbn.deta.dev/todos\";\n    \n    const [item, setItem] = useState(\"\");\n\n    // console.log(todos[todos.length-1].id + 1);\n\n    const onSubmitForm = async (e) => {\n        e.preventDefault();\n    \n        try {\n            const body = { \n                \"id\": todos[todos.length-1].id + 1,\n                \"item\": item\n             };\n            const response = await fetch(endpoint, {\n                method: \"POST\",\n                headers: { \"Content-Type\": \"application/json\" },\n                body: JSON.stringify(body),\n            });\n\n            window.location = \"/simpletodoapp/\";\n            \n        } catch (err) {\n            console.error(err.message);\n        }\n    }\n\n    return(\n        <Fragment>\n      <h1 className=\"text-center my-5\">My todo list</h1>\n      <form className=\"d-flex\" onSubmit={onSubmitForm}>\n        <input\n          type=\"text\"\n          placeholder=\"add todo\"\n          className=\"form-control\"\n          value={item}\n          onChange={(e) => setItem(e.target.value)}\n        />\n        <button className=\"btn btn-success\">Add</button>\n      </form>\n    </Fragment>\n    );\n};\n\nexport default InputTodo;","import React, { Fragment, useState, useEffect } from \"react\";\nimport EditTodo from \"./EditTodo\";\nimport InputTodo from \"./InputTodos\";\n\nconst ListTodos = () => {\n  \n    const endpoint = \"https://b35jbn.deta.dev/todos\";\n\n    const [todos, setTodos] = useState([]);\n\n\n    async function deleteTodo(id) {\n        try {\n          const res = await fetch(`${endpoint}/${id}`, {\n            method: \"DELETE\",\n          });\n    \n          setTodos(todos.filter((todo) => todo.id !== id));\n        } catch (err) {\n          console.error(err.message);\n        }\n      }\n\n    async function getTodos() {\n        const res = await fetch(endpoint);\n        const todos = await res.json();\n        setTodos(todos.data);\n    }\n\n    useEffect(() => {\n        getTodos();\n      }, []);\n    \n\n\n    return (\n        <Fragment>\n        <InputTodo todos={todos}/>\n        <table className=\"table mt-5\">\n          <thead>\n            <tr>\n              <th>Description</th>\n              <th>Edit</th>\n              <th>Delete</th>\n            </tr>\n          </thead>\n          <tbody>\n            \n            {todos.map((todo) => (\n              <tr key={todo.id}>\n                <td>{todo.item}</td>\n                <td>\n                  <EditTodo todo={todo} />\n                </td>\n                <td>\n                  <button\n                    className=\"btn btn-danger\"\n                    onClick={() => deleteTodo(todo.id)}\n                  >\n                    Delete\n                  </button>\n                </td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n        </Fragment>\n    );\n}\n\nexport default ListTodos;\n","import React, { Fragment } from 'react';\nimport './App.css';\n\nimport ListTodos from './components/ListTodos';\n\n\nfunction App() {\n\n  return (<Fragment>\n    <div className=\"container\">\n      <ListTodos />\n      </div>\n  </Fragment>);\n\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}